@model LILI_FPMS.Models.TblProductionProcess


@*<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>*@


<!-- Modal placeholder -->
<div id="modal-placeholder"></div>

<section class="content-header">
    @*<h1>
            Production
        </h1>*@
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Production</li>
        <li class="active">Update Production</li>
    </ol>
</section>
<!-- Main content -->
<section class="content container-fluid">
    <!-- Horizontal Form -->
    <div class="box box-info" style="border:1px solid; border-color:cadetblue; padding:10px">
        @*<div class="box-header with-border">
            <h3 class="box-title">Update Requisition</h3>
        </div>*@
        <!-- /.box-header -->
        <!-- form start -->
        <form class="form-horizontal" asp-controller="Production" method="post" asp-action="UpdateProduction">
            <div class="card-body">
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Process No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="ProcessNo" class="form-control" placeholder="Process No." readonly="readonly" value="@Model.ProcessNo">
                        <span asp-validation-for="ProcessNo"></span>
                    </div>

                    <label asp-for="ProcessDate" class="col-sm-2 control-label">Process Date</label>
                    <div class='col-sm-3 input-group date' id='ProcessDate' style="padding-left:15px;">
                        <input asp-for="ProcessDate" type='text' class="form-control" />
                        <span asp-validation-for="ProcessDate" class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                 @*    <label for="inputEmail3" class="col-sm-2 control-label">Requisition No.</label> *@
                
                        <input type="hidden" asp-for="RequisitionNo" class="form-control" placeholder="Requisition No." readonly="readonly" value="@Model.RequisitionNo">
                        <span asp-validation-for="RequisitionNo"></span>
                

                 
                    <label for="inputEmail3" class="col-sm-2 control-label">Process Order No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="LinkedProcessNo" class="form-control" placeholder="Auto Process No." readonly="readonly">
                        <span asp-validation-for="LinkedProcessNo"></span>
                    </div>

                    <label for="inputEmail3" class="col-sm-2 control-label">Product Name</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="ProductName" class="form-control" placeholder="Product Name" readonly="readonly" value="@Model.ProductName">
                        <span asp-validation-for="ProductName"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Batch No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="BatchNo" class="form-control" placeholder="Batch No." value="@Model.BatchNo">
                        <span asp-validation-for="BatchNo"></span>
                    </div>

                    <label for="inputEmail3" class="col-sm-2 control-label">Standard Output / Batch</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="StandardOutput" class="form-control" readonly="readonly" placeholder="Standard Output/Batch" value="@Model.StandardOutput">
                        <span asp-validation-for="StandardOutput"></span>
                    </div>
                </div>
                <div class="form-group">

                    <label for="inputEmail3" class="col-sm-2 control-label">Batch Size</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="BatchSize" class="form-control" readonly="readonly" value="@Model.BatchSize">
                    </div>

                    <label for="inputEmail3" class="col-sm-2 control-label">No Of Batch</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="NumberOfBatch" class="form-control" readonly="readonly">
                    </div>
                </div>

   



                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Produced Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" asp-for="ProductionQty" class="form-control" onkeypress='return isNumberKey(event)' readonly="readonly" value="@Model.ProductionQty">
                    </div>

                    <label asp-for="QCReferenceSampleQty" class="col-sm-2 control-label">QC Sample Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" Id="QCReferenceSampleQty" asp-for="QCReferenceSampleQty" class="form-control" onkeypress='return isNumberKey(event)' readonly="readonly">
                    </div>
                    <label asp-for="LumpQty" class="col-sm-2 control-label">Lump Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" Id="LumpQty" asp-for="LumpQty" class="form-control" onkeypress='return isNumberKey(event)'>
                    </div>

                </div>

                <div class="form-group">
                    <div class="col-sm-4">

                        <label asp-for="IsProcessCompleted" class="form-check-label col-sm-4 col-sm-offset-3"> Process Completed</label>
                        <input type="hidden" asp-for="IsProcessCompleted" id="IsProcessCompleted" value="false" />
                        <input type="checkbox" class="form-check-input" id="IsChecked" value="false" onclick="OnStateChange();" checked="@Model.IsProcessCompleted" style="transform: scale(1.4);" />


                    </div>
                </div>


                <div class="form-group" style="display:none;">

                    <label asp-for="ManufacShiftCode" class="col-sm-2 control-label">SFG Name</label>
                    <div class="col-sm-4">
                        <select asp-for="SFGCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfSFG,"SFGCode","SFGName"))"></select>
                        <span asp-validation-for="SFGCode"></span>
                    </div>
                    <label for="inputEmail3" class="col-sm-2 control-label">SFG Production Quantity</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="SFGProductionQty" class="form-control" onkeypress='return isNumberKey(event)' value="@Model.SFGProductionQty">
                    </div>

                </div>

                <div class="form-group">

                    
                </div>




                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">Manufacturing Detail</a>
                            </h4>
                        </div>
                        @*<div id="collapse1" class="panel-collapse collapse">*@
                        <div id="collapse1" class="panel-collapse">

                            <div class="col-md-12" style="padding-top:10px">
                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="ManufacBatchStartTime" type='text' class="form-control" />
                                            <span asp-validation-for="ManufacBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacShiftCode" class="col-sm-4 control-label">Shift Name</label>
                                        <div class="col-sm-8">
                                            <select asp-for="ManufacShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="ManufacShiftCode"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="BreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="BreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="BreakeDownCauseId"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacShiftBreakDownChangeTime"></span>
                                            <div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingShiftGrid()"> Add </a>
                                        </div>
                                    </div>



                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table  table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingShiftDetail" class="js_tblManufacturingDetail_body">
                                                    @{
                                                        int j = 0;
                                                        foreach (var item in Model.TblManufacturingShift)
                                                        {
                                                            var index = j;
                                                                            <tr>
                                                                                <td style="display:none"><input name='TblManufacturingShift.Index' type="hidden" value=@index /></td>
                                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].ShiftCode, new { @id = "ShiftCode_" + j })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingShift[j].ShiftCode, new { @id = "ShiftCode_" + j })</td>
                                                                                <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + j, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + j, htmlAttributes = new{@class="calManufacShiftBreakDownTime"} })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownTime, new { @id = "BreakeDownTime_" + j })</td>
                                                                                <td><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                            </tr>
                                                            j++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="ManufacLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="ManufacLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="ManufacLineCode"></span>
                                            <div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" style="float:right" onclick="addNewRowToManufacturingLineGrid()"> Add Line</a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table  table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingLineDetail" class="js_tblManufacturingDetailLine_body">
                                                    @{
                                                        int k = 0;
                                                        foreach (var item in Model.TblManufacturingLine)
                                                        {
                                                            var index = k;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblManufacturingLine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingLine[k].LineCode, new { @id = "LineCode_" + k })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingLine[k].LineName, new { @id = "LineName_" + k })</td>
                                                                    <td width="10%"><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            k++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-6 input-group date' id='ManufacBatchEndTimeDTP' style="padding-left:15px;">
                                            <input asp-for="ManufacBatchEndTime" type='text' class="form-control" />
                                            <span asp-validation-for="ManufacBatchEndTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="ManufacMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="ManufacMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="ManufacMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Machine Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="ManufacMachineCapacity"></span>
                                        </div>
                                    </div>

                                    
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacMachineHour"></span>
                                            <div style="padding-top:10px"></div>
                                            
                                        </div>
                                    </div>
                                    <div class="form-group control-group">                                            
                                            <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                            <div class="col-sm-2">
                                                <input type="text" asp-for="ManufacMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                                <span asp-validation-for="ManufacMachineNoOfWorker"></span>
                                            </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                                <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingMachineGrid()"> Add Machine</a>
                                        </div>
                                        
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">
                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingMachineDetail" class="js_tblManufacturingDetailMachine_body">
                                                    @*@foreach (var item in Model.TblManufacturingMachine)
                                            {

                                            }*@

                                                    @{
                                                        int m = 0;
                                                        foreach (var item in Model.TblManufacturingMachine)
                                                        {
                                                            var index = m;
                                                                            <tr>
                                                                                <td style="display:none"><input name='TblManufacturingMachine.Index' type="hidden" value=@index /></td>
                                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].MachineCode, new { @id = "MachineCode_" + m })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingMachine[m].MachineName, new { @id = "MachineName_" + m })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].MachineHour, new { @id = "MachineHour_" + m })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].ManufacMachineNoOfWorker, new { @id = "ManufacMachineNoOfWorker_" + m })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].ManufacMachineManHour, new { @id = "ManufacMachineManHour_" + m })</td>
                                                                                <td><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                            </tr>
                                                            m++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>

                                    @*<div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacManHour"></span>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacNoOfWorker"></span>
                                        </div>
                                    </div>*@
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Staff List</label>
                                        <div class="col-sm-4">
                                            <select id="ManufacManPowerStaffId" style="width:100%" for="ManufacManPowerStaffId" class="form-control select2" @* asp-items="@(new SelectList(ViewBag.ListofStaff,"StaffId","Name"))"*@>
                                                @{
                                                    foreach (var staff in ViewBag.ListofStaff)
                                                    {
                                                        <option value="@staff.StaffId"> @staff.StaffId || @staff.Name</option>

                                                    }
                                                }
                                            </select>
                                           
                                            @*   <input type="text" asp-for="ManufacManPowerStaffId" class="form-control" readonly="readonly" placeholder="" >

                                            @(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))
                                            *@
                                        </div>


                                        <div class="col-sm-2">
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingStaffGrid()"> Add Staff</a>
                                            @*  <button type="button" disabled disabled class="btn btn-mini btn-primary" data-toggle="ajax-modal" onclick="addNewRowToManufacturingStaffGrid()">Add Staff</button>*@
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table  table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Staff</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblManufacturingManPowerDetail" class="js_tblManufacturingDetailLine_body">
                                                    @foreach (var item in Model.TblManufacturingManPower)
                                                    {
                                                        int manui = 0; //To make unique Id
                                                        <tr>
                                                           @* <td>@Html.EditorFor(modelItem => item.StaffId)</td>*@
                                                        
                                                              <td>@Html.DisplayFor(modelItem => item.Name) </td>
                                                              <td></td>
                                                             @*  <td><a class="fa fa-trash" onclick="Delete('@item.Id')">X</a></td> *@
                                                        </tr>
                                                        manui++;
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                            <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                            <div class="col-sm-2">
                                                <input type="text" asp-for="ManufacManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                                <span asp-validation-for="ManufacManHour"></span>
                                            </div>
                                            <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                            <div class="col-sm-2">
                                                <input type="text" asp-for="ManufacNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                                <span asp-validation-for="ManufacNoOfWorker"></span>
                                            </div>
                                        </div>


                                        <div class="form-group control-group">
                                            <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                            <div class="col-sm-2">
                                                <input type="text" asp-for="ManufacCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                                <span asp-validation-for="ManufacCommonManHour"></span>
                                            </div>
                                            <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                            <div class="col-sm-2">
                                                <input type="text" asp-for="ManufacCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                                <span asp-validation-for="ManufacCommonNoOfWorker"></span>
                                            </div>
                                        </div>
                                </div>
                            </div>
                            <div class="form-group"></div>


                        </div>
                    </div>
                </div>




                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">Packing Detail</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse open">

                            <div class="col-md-12" style="padding-top:10px">

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="PackBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='PackBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="PackBatchStartTime" type='text' class="form-control" />
                                            <span asp-validation-for="PackBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="PackShiftCode" class="col-sm-4 control-label">Shift Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="PackShiftCode"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="PackingBreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackingBreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="PackingBreakeDownCauseId"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackShiftBreakDownChangeTime"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingShiftGrid()"> Add shift </a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table  table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionpackingShiftDetail" class="js_tblPackingDetail_body">
                                                    
                                                    @{
                                                        int p = 0;
                                                        foreach (var item in Model.TblPackingDetailShift)
                                                        {
                                                            var index = p;
                                                                            <tr>
                                                                                <td style="display:none"><input name='TblPackingDetailShift.Index' type="hidden" value=@index /></td>
                                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].ShiftCode, new { @id = "ShiftCode_" + p })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailShift[p].ShiftCode, new { @id = "ShiftCode_" + p })</td>
                                                                                <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + p, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + p })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownTime, new { @id = "BreakeDownTime_" + p })</td>
                                                                                <td><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                            </tr>
                                                            p++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label asp-for="PackLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="PackLineCode"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingLineGrid()"> Add Line</a>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table  table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionPackingLineDetail" class="js_tblPackingDetailLine_body">
                                                    

                                                    @{
                                                        int q = 0;
                                                        foreach (var item in Model.TblPackingDetailLine)
                                                        {
                                                            var index = q;
                                                                            <tr>
                                                                                <td style="display:none"><input name='TblPackingDetailLine.Index' type="hidden" value=@index /></td>
                                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailLine[q].LineCode, new { @id = "LineCode_" + q })</td>
                                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailLine[q].LineName, new { @id = "LineName_" + q })</td>
                                                                                <td style="width:10%"><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                            </tr>
                                                            q++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Packing Quantity</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackingQty" class="form-control" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackingQty"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="PackBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchEndTime' style="padding-left:15px;">
                                            <input asp-for="PackBatchEndTime" type='text' class="form-control" />
                                            <span asp-validation-for="PackBatchEndTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    @*<div class="form-group control-group">
                                        <label asp-for="PackMachineCode" class="col-sm-4 control-label">Machine Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="PackMachineCode"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Capacity</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="PackMachineCapacity"></span>
                                        </div>
                                    </div>*@

                                    <div class="form-group control-group">
                                        <label asp-for="PackMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="PackMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="PackMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="PackMachineCapacity"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineHour"></span>
                                            @*<div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingMachineGrid()"> Add Machine</a>*@
                                        </div>
                                    </div>

                                    <div class="form-group control-group">                                            
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Wise No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                                <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingMachineGrid()"> Add Machine</a>
                                        </div>                                        
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>

                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col" style="width:30%;">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionPackingMachineDetail" class="js_TblPackingDetailMachine_body">
                                                  

                                                    @{
                                                        int r = 0;
                                                        foreach (var item in Model.TblPackingDetailMachine)
                                                        {
                                                            var index = r;
                                                                            <tr>
                                                                                <td style="display:none"><input name='TblPackingDetailMachine.Index' type="hidden" value=@index /></td>
                                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineCode, new { @id = "MachineCode_" + r })</td>
                                                                                <td style="width:30%;">@Html.DisplayFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineName, new { @id = "MachineName_" + r })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineHour, new { @id = "MachineHour_" + r })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].PackMachineNoOfWorker, new { @id = "PackMachineNoOfWorker_" + r })</td>
                                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].PackMachineManHour, new { @id = "PackMachineManHour_" + r })</td>
                                                                                <td><input type="button" disabled disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                            </tr>
                                                            r++;
                                                        }
                                                    }


                                                </tbody>
                                            </table>

                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Staff List</label>
                                        <div class="col-sm-4">
                                            <select id="PackManPowerStaffId" style="width:100%" for="PackManPowerStaffId" class="form-control select2" @* asp-items="@(new SelectList(ViewBag.ListofStaff,"StaffId","Name"))"*@>
                                                @{
                                                    foreach (var staff in ViewBag.ListofStaff)
                                                    {
                                                        <option value="@staff.StaffId"> @staff.StaffId || @staff.Name</option>

                                                    }
                                                }
                                            </select>
                                          
                                            @*   <input type="text" asp-for="ManufacManPowerStaffId" class="form-control" readonly="readonly" placeholder="" >

                                            @(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))
                                            *@
                                        </div>


                                        <div class="col-sm-2">
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingStaffGrid()"> Add Staff</a>
                                            @*  <button type="button" disabled class="btn btn-mini btn-primary" data-toggle="ajax-modal" onclick="addNewRowToManufacturingStaffGrid()">Add Staff</button>*@
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Staff</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblPackingManPowerDetail" class="js_tblPackingManPowerDetail_body">
                                                    @foreach (var item in Model.TblPackingManPower)
                                                    {
                                                        int packi = 0; //To make unique Id
                                                        <tr>
                                                            @* <td>@Html.EditorFor(modelItem => item.StaffId)</td>*@
                                                            <td>@Html.DisplayFor(modelItem => item.Name)</td>
                                                            <td></td>
                                                          @*   <td><a class="fa fa-trash" onclick="Delete('@item.Id')">X</a></td> *@
                                                        </tr>
                                                        packi++;
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    @*<div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackManHour"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackNoOfWorker"></span>
                                        </div>
                                    </div>*@

                                     <div class="form-group control-group">
                                         <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackManHour"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackCommonNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackCommonManHour"></span>
                                        </div>
                                    </div>
                                  

                                </div>
                            </div>
                            <div class="form-group"></div>
                        </div>
                    </div>
                </div>

                    @*Coding Detail start*@
           @*      <div id="CodingDetail" class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">Coding Detail</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse open">

                            <div class="col-md-12" style="padding-top:10px">

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="CodeBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='CodeBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="CodeBatchStartTime" type='text' class="form-control" />
                                            <span asp-validation-for="CodeBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="CodeShiftCode" class="col-sm-4 control-label">Shift Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodeShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="CodeShiftCode"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="CodingBreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodingBreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="CodingBreakeDownCauseId"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="CodeShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeShiftBreakDownChangeTime"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingShiftGrid()"> Add shift </a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table  table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingShiftDetail" class="js_tblCodingDetail_body">

                                                    @{
                                                        int s = 0;
                                                        foreach (var item in Model.TblCodingDetailShift)
                                                        {
                                                            var index = s;
                                                            <tr>
                                                                <td style="display:none"><input name='TblCodingDetailShift.Index' type="hidden" value=@index /></td>
                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].ShiftCode, new { @id = "ShiftCode_" + s })</td>
                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailShift[s].ShiftCode, new { @id = "ShiftCode_" + s })</td>
                                                                <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + s, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + s })</td>
                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownTime, new { @id = "BreakeDownTime_" + s })</td>
                                                                <td><input type="button" disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                            </tr>
                                                            s++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label asp-for="CodeLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodeLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="CodeLineCode"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingLineGrid()"> Add Line</a>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table  table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingLineDetail" class="js_tblCodingDetailLine_body">


                                                    @{
                                                        int t = 0;
                                                        foreach (var item in Model.TblCodingDetailLine)
                                                        {
                                                            var index = t;
                                                            <tr>
                                                                <td style="display:none"><input name='TblCodingDetailLine.Index' type="hidden" value=@index /></td>
                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailLine[t].LineCode, new { @id = "LineCode_" + t })</td>
                                                                <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailLine[t].LineName, new { @id = "LineName_" + t })</td>
                                                                <td style="width:10%"><input type="button" disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                            </tr>
                                                            t++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="CodeBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchEndTime' style="padding-left:15px;">
                                            <input asp-for="CodeBatchEndTime" type='text' class="form-control" />
                                            <span asp-validation-for="CodeBatchEndTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                              

                                    <div class="form-group control-group">
                                        <label asp-for="CodeMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="CodeMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="CodeMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="CodeMachineCapacity"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="CodeMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineHour"></span>
                                         
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Wise No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingMachineGrid()"> Add Machine</a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>

                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col" style="width:30%;">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingMachineDetail" class="js_TblCodingDetailMachine_body">


                                                    @{
                                                        int u = 0;
                                                        foreach (var item in Model.TblCodingDetailMachine)
                                                        {
                                                            var index = r;
                                                            <tr>
                                                                <td style="display:none"><input name='TblCodingDetailMachine.Index' type="hidden" value=@index /></td>
                                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineCode, new { @id = "MachineCode_" + r })</td>
                                                                <td style="width:30%;">@Html.DisplayFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineName, new { @id = "MachineName_" + r })</td>
                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineHour, new { @id = "MachineHour_" + r })</td>
                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].CodeMachineNoOfWorker, new { @id = "CodeMachineNoOfWorker_" + r })</td>
                                                                <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].CodeMachineManHour, new { @id = "CodeMachineManHour_" + r })</td>
                                                                <td><input type="button" disabled disabled class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                            </tr>
                                                            u++;
                                                        }
                                                    }


                                                </tbody>
                                            </table>

                                        </div>
                                    </div>

                         

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeManHour"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeCommonNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeCommonManHour"></span>
                                        </div>
                                    </div>
                                     <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Coding Quantity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodingQty" class="form-control" placeholder="" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodingQty" style="color:red;"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>
                        </div>
                    </div>
                </div>
 *@




                <div class="form-group">
                    <label asp-for="Comments" class="col-sm-2 control-label"></label>
                    <div class="col-sm-10">
                        <input type="text" asp-for="Comments" class="form-control" placeholder="Comments" value="@Model.Comments">
                    </div>
                </div>


                <div style="border:1px solid #e5dbff; padding:10px;">
                    <div class="card-body">
                        <table id="htProductionMaterialDetail" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th style="width:10%; !important">RMPM Code</th>
                                    <th style="width:30%;">RMPM Name</th>
                                    <th style="width:5%;">Unit</th>

                                    <th style="width:10%;display:none;">Required Quantity</th>
                                    <th style="width:10%;display:none;">Issued Quantity</th>
                                    <th style="display:none; width:10%;">Previous Consumption Quantity</th>
                                    <th style="width:10%;display:none;">Std.Consumption</th>

                                    <th style="width:10%; display:none">Requisition No</th>
                                    <th style="width:10%;">GRN No</th>

                                    <th style="width:10%;">Current Use Quantity</th>
                                    <th style="width:10%;">Reject</th>
                                    <th style="width:10%;">WIP</th>

                                    <th style="width:10%;display:none;">Std. Process Loss</th>
                                    <th style="width:10%;display:none;">Wastage</th>

                                    <th style="display:none;width:10%;">Total Consumption</th>
                                    <th style="display:none; width:10%;">Action</th>
                                </tr>
                            </thead>
                            <tbody id="tblProductionBOMDtl" class="js_tblBOMDtl_body">
                                @{
                                    int i = 0;

                                    foreach (var item in Model.TblProductionProcessDetail)
                                    {
                                        var index = i;
                                                        <tr>
                                                            <td style="display:none"><input name='TblProductionDetail.Index' type="hidden" value=@index/></td>
                                                            <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialCode, new { @id = "MaterialCode_" + i })</td>
                                                            <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialCode, new { @id = "MaterialCode_" + i })</td>
                                                            <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialName, new { @id = "MaterialName_" + i, htmlAttributes = new { @style = "width: 300px;" } })</td>
                                                            <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Unit, new { @id = "Unit_" + i })</td>
                                                            <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].ReqQuantity, new { @id = "ReqQuantity_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                            <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].ReqQuantity, new { @id = "ReqQuantity_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                            <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].IssuedQty, new { @id = "IssuedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                            <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].IssuedQty, new { @id = "IssuedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                            <td style="display:none; text-align:right;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].PreviousUsedQty, new { @id = "PreviousUsedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                            <td style="display:none; text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].PreviousUsedQty, new { @id = "PreviousUsedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                            <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].StdConsumptionQty, new { @id = "StdConsumptionQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                            <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].StdConsumptionQty, new { @id = "StdConsumptionQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class ="calStdConsum" } })</td>

                                            <td style="display:none" onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].RequisitionNo, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>
                                                            <td  onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Grnno, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>


                                                            <td  onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].CurrentUseQty, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>

                                                            <td  onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].RejectQty, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>
                                                            <td  onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Wip, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>

                                                            <td style="display:none;" onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].ProcessLoss, new { @id = "ProcessLoss_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                            <td style="display:none;" onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Wastage, new { @id = "Wastage_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" , @class="calWastage"} })</td>

                                                            <td style="display:none" class='totalConsume' readonly>@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].TotalConsumption, new { @id = "TotalConsumption_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "totalConsume" } })</td>
                                                            <td style="display:none;text-align:right" class='totalConsumeShow' readonly>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].TotalConsumption, new { @id = "TotalConsumption_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "totalConsumeShow" } })</td>

                                                            <td style="display:none"><input type="button" disabled disabled value="Remove" onClick="$(this).closest('tr').remove();"></td>
                                                        </tr>
                                        i++;
                                    }
                                }
                            </tbody>
                             <tfoot>
                              <tr>
                                  <td colspan="4" style="text-align:left; font-weight:bold">Total Consumption:</td>
                                  <td id="sum" style="text-align:right; font-weight:bold;" class="numeric">&nbsp;</td>
                              </tr>
                            </tfoot>
                        </table>

                    </div>
                </div>

                <input type="hidden" name="Id" value="@Model.Id" />
            </div>
                        <!-- /.card-body -->
                        <div class="box-footer">
                            <a class="btn btn-mini btn-primary" href='@Url.Content("/Production/Index")'>Cancel</a>
                            @*<button type="submit" class="btn btn-info pull-right">Update</button>*@
                        </div>
                        <!-- /.box-footer -->
</form>
    </div>
    <!-- /.box -->
</section>

@* <script type="text/javascript">

    $(document).ready(function () {


        //$('#ProductionQty').on('change', function () {
        //    var requisitionNo = $('#RequisitionNo').val();
        //    if (requisitionNo.length > 0) {
        //        GetRequisitionDetails(requisitionNo);
        //    }
        //});

        function GetRequisitionDetails(requisitionNo) {
            var productionQty = $('#ProductionQty').val();
            //alert(productionQty);
            $.ajax({
                type: "POST",
                url: "/Production/GetRequisitionDetails",
                data: { requisitionNo: requisitionNo, productionQty: productionQty },
                success: function (result) {
                    $('#tblProductionBOMDtl').empty(); //Clear table body
                    var table = $("#htProductionMaterialDetail tbody");
                    $.each(result, function (idx, elem) {

                        var index = $("#tblProductionBOMDtl").children("tr").length;
                        var indexCell = "<td style='display:none'><input name='tblProductionProcessDetail.Index' type='hidden' value='" + index + "' /></td>";
                        var materialCodeCell = "<td><input style='width:100%' class='form-control nothing' readonly id='tblProductionProcessDetail_" + index + "_MaterialCode' name='tblProductionProcessDetail[" + index + "].MaterialCode' type='text' value='" + elem.MaterialCode + "' /></td>";
                        var materialNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='tblProductionProcessDetail_" + index + "_MaterialName' name='tblProductionProcessDetail[" + index + "].MaterialName' type='text' value='" + elem.MaterialName + "' /></td>";
                        var unitCell = "<td><input style='width:100%' class='form-control nothing' readonly id='tblProductionProcessDetail_" + index + "_Unit' name='tblProductionProcessDetail[" + index + "].Unit' type='text' value='" + elem.Unit + "' /></td>";
                        var requiredQtyCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_RequiredQty' name='tblProductionProcessDetail[" + index + "].RequiredQty' type='text' value='" + elem.ReqQuantity + "' /></td>";
                        var issuedQtyCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_IssuedQty' name='tblProductionProcessDetail[" + index + "].IssuedQty' type='text' value='" + elem.IssuedQty + "' /></td>";
                        var previousUsedQtyCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_PreviousUsedQty' name='tblProductionProcessDetail[" + index + "].PreviousUsedQty' type='text' value='" + elem.PreviousUsedQty + "' /></td>";
                        var stdConsumptionQtyCell = "<td><input style='text-align:right; width:100%' id='tblProductionProcessDetail_" + index + "_StdConsumptionQty' name='tblProductionProcessDetail[" + index + "].StdConsumptionQty' type='text' value='" + elem.StdConsumptionQty + "' /></td>";
                        var currentUseQtyCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_CurrentUseQty' name='tblProductionProcessDetail[" + index + "].CurrentUseQty' type='text' value='" + elem.CurrentUseQty + "' /></td>";
                        var processLossCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_ProcessLoss' name='tblProductionProcessDetail[" + index + "].ProcessLoss' type='text' value='" + elem.ProcessLoss + "' /></td>";
                        var wastageCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_Wastage' name='tblProductionProcessDetail[" + index + "].Wastage' type='text' value='" + elem.Wastage + "' /></td>";
                        var totalConsumptionCell = "<td><input style='text-align:right; width:100%'  id='tblProductionProcessDetail_" + index + "_TotalConsumption' name='tblProductionProcessDetail[" + index + "].TotalConsumption' type='text' value='" + elem.TotalConsumption + "' /></td>";

                        var removeCell = "<td><input id='addRowToTable' type='button' value='Remove' onclick='removeRowItem(" + index + ");' /></td>";

                        var newRow = "<tr id='trtbProductionBOMDtl" + index + "'>" + indexCell + materialCodeCell + materialNameCell + unitCell + requiredQtyCell + issuedQtyCell + previousUsedQtyCell + stdConsumptionQtyCell + currentUseQtyCell + processLossCell + wastageCell + totalConsumptionCell + removeCell + "</tr>";
                        table.append(newRow);

                    });

                },
                error: function () {
                    //$('#RequisitionNo').val('');
                }
            });
        }

        if(@ViewBag.IsCodingDetailVisible==0)
        {
            document.getElementById('CodingDetail').style.display = "none";
        }
    });


    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode != 46 && (charCode < 48 || charCode > 57)))
            return false;
        return true;
    }


       function addNewRowToManufacturingShiftGrid() {

        var ManufacShiftCode = $("#ManufacShiftCode").val();
        var ManufacShiftName = $("#ManufacShiftCode option:selected").text();

        var BreakeDownCauseId = $("#BreakeDownCauseId").val();
        var BreakeDownCause = $("#BreakeDownCauseId option:selected").text();


        var ManufacShiftBreakDownChangeTime = $("#ManufacShiftBreakDownChangeTime").val();



            @{
                Model.TblManufacturingShift.Add(new LILI_FPMS.Models.TblManufacturingShift());
            }

        var index = $("#tblProductionManufacturingShiftDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblManufacturingShift.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblManufacturingShift_" + index + "_Id' name='TblManufacturingShift[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var ManufacShiftCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingShift_" + index + "_ShiftCode' name='TblManufacturingShift[" + index + "].ShiftCode' type='text' value='" + ManufacShiftCode + "' /></td>";
        var ManufacShiftNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingShift_" + index + "_ManufacShiftName' name='TblManufacturingShift[" + index + "].ManufacShiftName' type='text' value='" + ManufacShiftName + "' /></td>";
        var BreakeDownCauseIdCell = "<td style='display:none'> <input id='TblManufacturingShift_" + index + "_BreakeDownCauseId' name='TblManufacturingShift[" + index + "].BreakeDownCauseId' type='text' value='" + BreakeDownCauseId + "' /></td>";
        var BreakeDownCauseCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingShift_" + index + "_BreakeDownCauseName' name='TblManufacturingShift[" + index + "].BreakeDownCauseName' type='text' value='" + BreakeDownCause + "' /></td>";
        var ManufacShiftBreakDownChangeTimeellCell = "<td><input style='text-align:right; width:100%' class='calManufacShiftBreakDownTime' id='TblManufacturingShift_" + index + "_BreakeDownTime' name='TblManufacturingShift[" + index + "].BreakeDownTime' type='text' value='" + ManufacShiftBreakDownChangeTime +"' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeShiftRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionManufacturingShiftDetail" + index + "'>" + indexCell + ManufacShiftCodeCell + ManufacShiftNameCell + BreakeDownCauseIdCell + BreakeDownCauseCell  + ManufacShiftBreakDownChangeTimeellCell + removeCell + "</tr>";
        $("#tblProductionManufacturingShiftDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }


    function addNewRowToManufacturingLineGrid() {

        var ManufacLineCode = $("#ManufacLineCode").val();
        var ManufacLineName = $("#ManufacLineCode option:selected").text();

        @{
            Model.TblManufacturingLine.Add(new LILI_FPMS.Models.TblManufacturingLine());
        }

        var index = $("#tblProductionManufacturingLineDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblManufacturingLine.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblManufacturingLine_" + index + "_Id' name='TblManufacturingLine[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var ManufacLineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingLine_" + index + "_LineCode' name='TblManufacturingLine[" + index + "].LineCode' type='text' value='" + ManufacLineCode + "' /></td>";
        var ManufacLineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingLine_" + index + "_LineName' name='TblManufacturingLine[" + index + "].LineName' type='text' value='" + ManufacLineName + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeLineRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionManufacturingLineDetail" + index + "'>" + indexCell + ManufacLineCodeCell + ManufacLineNameCell + removeCell + "</tr>";
        $("#tblProductionManufacturingLineDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }

    function addNewRowToManufacturingMachineGrid() {

        var ManufacMachineCode = $("#ManufacMachineCode").val();
        var ManufacMachineName = $("#ManufacMachineCode option:selected").text();
        var ManufacMachineHour = $("#ManufacMachineHour").val();
        var ManufacMachineNoOfWorker = $("#ManufacMachineNoOfWorker").val();
        var ManufacMachineManHour = $("#ManufacMachineManHour").val();


            @{
                Model.TblManufacturingMachine.Add(new LILI_FPMS.Models.TblManufacturingMachine());
            }

        var index = $("#tblProductionManufacturingMachineDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblManufacturingMachine.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblManufacturingMachine_" + index + "_Id' name='TblManufacturingMachine[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var ManufacMachineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingMachine_" + index + "_MachineCode' name='TblManufacturingMachine[" + index + "].MachineCode' type='text' value='" + ManufacMachineCode + "' /></td>";
        var ManufacMachineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblManufacturingMachine_" + index + "_MachineName' name='TblManufacturingMachine[" + index + "].MachineName' type='text' value='" + ManufacMachineName + "' /></td>";
        var ManufacMachineHourCell = "<td><input style='text-align:right; width:100%' id='TblManufacturingMachine_" + index + "_MachineHour' name='TblManufacturingMachine[" + index + "].MachineHour' type='text' value='" + ManufacMachineHour + "' /></td>";
        var ManufacMachineNoOfWorkerCell = "<td><input style='text-align:right; width:100%' id='TblManufacturingMachine_" + index + "_ManufacMachineNoOfWorker' name='TblManufacturingMachine[" + index + "].ManufacMachineNoOfWorker' type='text' value='" + ManufacMachineNoOfWorker + "' /></td>";
        var ManufacMachineManHourCell = "<td><input style='text-align:right; width:100%' id='TblManufacturingMachine_" + index + "_ManufacMachineManHour' name='TblManufacturingMachine[" + index + "].ManufacMachineManHour' type='text' value='" + ManufacMachineManHour + "' /></td>";
        var ManufacMachineManHourCell = "<td><input style='text-align:right; width:100%' class='calManufacMachineWiseManHour' id='TblManufacturingMachine_" + index + "_ManufacMachineManHour' name='TblManufacturingMachine[" + index + "].ManufacMachineManHour' type='text' value='" + ManufacMachineManHour + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeMachineRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionManufacturingMachineDetail" + index + "'>" + indexCell + ManufacMachineCodeCell + ManufacMachineNameCell + ManufacMachineHourCell + ManufacMachineNoOfWorkerCell + ManufacMachineManHourCell + removeCell + "</tr>";
        $("#tblProductionManufacturingMachineDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }

    function addNewRowToPackingShiftGrid() {

        var ManufacShiftCode = $("#PackShiftCode").val();
        var ManufacShiftName = $("#PackShiftCode option:selected").text();

        var BreakeDownCauseId = $("#PackingBreakeDownCauseId").val();
        var BreakeDownCause = $("#PackingBreakeDownCauseId option:selected").text();
        var ManufacShiftBreakDownChangeTime = $("#PackShiftBreakDownChangeTime").val();

        @{
            Model.TblPackingDetailShift.Add(new LILI_FPMS.Models.TblPackingDetailShift());
        }

        var index = $("#tblProductionpackingShiftDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblPackingDetailShift.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblPackingDetailShift_" + index + "_Id' name='TblPackingDetailShift[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var PackingShiftCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblPackingDetailShift_" + index + "_ShiftCode' name='TblPackingDetailShift[" + index + "].ShiftCode' type='text' value='" + ManufacShiftCode + "' /></td>";
        var PackingShiftNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblPackingDetailShift_" + index + "_ShiftName' name='TblPackingDetailShift[" + index + "].ShiftName' type='text' value='" + ManufacShiftName + "' /></td>";
        var BreakeDownCauseIdCell = "<td style='display:none'> <input id='TblPackingDetailShift_" + index + "_BreakeDownCauseId' name='TblPackingDetailShift[" + index + "].BreakeDownCauseId' type='text' value='" + BreakeDownCauseId + "' /></td>";
        var BreakeDownCauseCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblPackingDetailShift_" + index + "_BreakeDownCauseName' name='TblPackingDetailShift[" + index + "].BreakeDownCauseName' type='text' value='" + BreakeDownCause + "' /></td>";
        var PackingShiftBreakDownChangeTimeellCell = "<td><input style='text-align:right; width:100%' id='TblPackingDetailShift_" + index + "_BreakeDownTime' class='calPackShiftBreakDownTime' name='TblPackingDetailShift[" + index + "].BreakeDownTime' type='text' value='" + ManufacShiftBreakDownChangeTime + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removePackingShiftRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionPackingShiftDetail" + index + "'>" + indexCell + PackingShiftCodeCell + PackingShiftNameCell + BreakeDownCauseIdCell + BreakeDownCauseCell + PackingShiftBreakDownChangeTimeellCell + removeCell + "</tr>";
        $("#tblProductionpackingShiftDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }


    function addNewRowToPackingLineGrid() {



        var PackLineCode = $("#PackLineCode").val();
        var PackLineName = $("#PackLineCode option:selected").text();

        @{
            Model.TblPackingDetailLine.Add(new LILI_FPMS.Models.TblPackingDetailLine());
        }

        var index = $("#tblProductionPackingLineDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblPackingDetailLine.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblPackingDetailLine_" + index + "_Id' name='TblPackingDetailLine[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var PackLineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblPackingDetailLine_" + index + "_LineCode' name='TblPackingDetailLine[" + index + "].LineCode' type='text' value='" + PackLineCode + "' /></td>";
        var PackLineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblPackingDetailLine_" + index + "_LineName' name='TblPackingDetailLine[" + index + "].LineName' type='text' value='" + PackLineName + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removePackLineRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionPackingLineDetail" + index + "'>" + indexCell + PackLineCodeCell + PackLineNameCell + removeCell + "</tr>";


        $("#tblProductionPackingLineDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }

    function removeShiftRow(id) {
        var controlToBeRemoved = "#tblProductionManufacturingShiftDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }

    function removeLineRow(id) {
        var controlToBeRemoved = "#tblProductionManufacturingLineDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }



    function removeMachineRow(id) {
        var controlToBeRemoved = "#tblProductionManufacturingMachineDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }


    function addNewRowToCodingShiftGrid() {

        var ManufacShiftCode = $("#CodeShiftCode").val();
        var ManufacShiftName = $("#CodeShiftCode option:selected").text();

        var CodingMachineCode = $("#CodeMachineCode").val();
        var CodingMachineName = $("#CodeMachineCode option:selected").text();

        var BreakeDownCauseId = $("#CodingBreakeDownCauseId").val();
        var BreakeDownCause = $("#CodingBreakeDownCauseId option:selected").text();
        var ManufacShiftBreakDownChangeTime = $("#CodeShiftBreakDownChangeTime").val();
        ManufacShiftBreakDownChangeTime = ManufacShiftBreakDownChangeTime === "" ? 0 : ManufacShiftBreakDownChangeTime;

    @{
        Model.TblCodingDetailShift.Add(new LILI_FPMS.Models.TblCodingDetailShift());
    }

            var index = $("#tblProductionCodingShiftDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblCodingDetailShift.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblCodingDetailShift_" + index + "_Id' name='TblCodingDetailShift[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var CodingShiftCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailShift_" + index + "_ShiftCode' name='TblCodingDetailShift[" + index + "].ShiftCode' type='text' value='" + ManufacShiftCode + "' /></td>";
        var CodingShiftNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailShift_" + index + "_ShiftName' name='TblCodingDetailShift[" + index + "].ShiftName' type='text' value='" + ManufacShiftName + "' /></td>";

        var CodingMachineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailShift_" + index + "_MachineCode' name='TblCodingDetailShift[" + index + "].MachineCode' type='text' value='" + CodingMachineCode + "' /></td>";
        var CodingMachineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailShift_" + index + "_MachineName' name='TblCodingDetailShift[" + index + "].MachineName' type='text' value='" + CodingMachineName + "' /></td>";


        var BreakeDownCauseIdCell = "<td style='display:none'> <input id='TblCodingDetailShift_" + index + "_BreakeDownCauseId' name='TblCodingDetailShift[" + index + "].BreakeDownCauseId' type='text' value='" + BreakeDownCauseId + "' /></td>";
        var BreakeDownCauseCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailShift_" + index + "_BreakeDownCauseName' name='TblCodingDetailShift[" + index + "].BreakeDownCauseName' type='text' value='" + BreakeDownCause + "' /></td>";
        var CodingShiftBreakDownChangeTimeellCell = "<td><input style='text-align:right; width:100%' id='TblCodingDetailShift_" + index + "_BreakeDownTime' class='calCodeShiftBreakDownTime' name='TblCodingDetailShift[" + index + "].BreakeDownTime' type='text' value='" + ManufacShiftBreakDownChangeTime + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeCodingShiftRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionCodingShiftDetail" + index + "'>" + indexCell + CodingShiftCodeCell + CodingShiftNameCell + CodingMachineCodeCell + CodingMachineNameCell + BreakeDownCauseIdCell + BreakeDownCauseCell + CodingShiftBreakDownChangeTimeellCell + removeCell + "</tr>";
        $("#tblProductionCodingShiftDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }


    function addNewRowToCodingLineGrid() {



        var CodeLineCode = $("#CodeLineCode").val();
        var CodeLineName = $("#CodeLineCode option:selected").text();

    @{
        Model.TblCodingDetailLine.Add(new LILI_FPMS.Models.TblCodingDetailLine());
    }

            var index = $("#tblProductionCodingLineDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblCodingDetailLine.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblCodingDetailLine_" + index + "_Id' name='TblCodingDetailLine[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var CodeLineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailLine_" + index + "_LineCode' name='TblCodingDetailLine[" + index + "].LineCode' type='text' value='" + CodeLineCode + "' /></td>";
        var CodeLineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailLine_" + index + "_LineName' name='TblCodingDetailLine[" + index + "].LineName' type='text' value='" + CodeLineName + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeCodeLineRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionCodingLineDetail" + index + "'>" + indexCell + CodeLineCodeCell + CodeLineNameCell + removeCell + "</tr>";


        $("#tblProductionCodingLineDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');
    }


    function addNewRowToCodingMachineGrid() {

        var ManufacMachineCode = $("#CodeMachineCode").val();
        var ManufacMachineName = $("#CodeMachineCode option:selected").text();
        var ManufacMachineHour = $("#CodeMachineHour").val();
        var CodeMachineNoOfWorker = $("#CodeMachineNoOfWorker").val();
        var CodeMachineManHour = $("#CodeMachineManHour").val();


    @{
        Model.TblCodingDetailMachine.Add(new LILI_FPMS.Models.TblCodingDetailMachine());
    }

            var index = $("#tblProductionCodingMachineDetail").children("tr").length;

        var indexCell = "<td style='display:none'><input name='TblCodingDetailMachine.Index' type='hidden' value='" + index + "' /></td>";
        var idCell = "<td style='display:none'> <input id='TblCodingDetailMachine_" + index + "_Id' name='TblCodingDetailMachine[" + index + "].Id' type='text' value='" + parseInt(index + 1) + "' /></td>";
        var ManufacMachineCodeCell = "<td style='display:none'><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailMachine_" + index + "_MachineCode' name='TblCodingDetailMachine[" + index + "].MachineCode' type='text' value='" + ManufacMachineCode + "' /></td>";
        var ManufacMachineNameCell = "<td><input style='width:100%' class='form-control nothing' readonly id='TblCodingDetailMachine_" + index + "_MachineName' name='TblCodingDetailMachine[" + index + "].MachineName' type='text' value='" + ManufacMachineName + "' /></td>";
        var ManufacMachineHourCell = "<td><input style='text-align:right; width:100%' id='TblCodingDetailMachine_" + index + "_MachineHour' name='TblCodingDetailMachine[" + index + "].MachineHour' type='text' value='" + ManufacMachineHour + "' /></td>";
        var CodeMachineNoOfWorkerCell = "<td><input style='text-align:right; width:100%'  class='calCodeMachineNoOfWorker' id='TblCodingDetailMachine_" + index + "_CodeMachineNoOfWorker' name='TblCodingDetailMachine[" + index + "].CodeMachineNoOfWorker' type='text' value='" + CodeMachineNoOfWorker + "' /></td>";
        var CodeMachineManHourCell = "<td><input style='text-align:right; width:100%' class='calCodeMachineManHour' id='TblCodingDetailMachine_" + index + "_CodeMachineManHour' name='TblCodingDetailMachine[" + index + "].CodeMachineManHour' type='text' value='" + CodeMachineManHour + "' /></td>";

        var removeCell = "<td><input id='addRow' type='button' class='btn btn-sm btn-danger' value='X' onclick='removeCodeMachineRow(" + index + ");' /></td>";

        var newRow = "<tr id='tblProductionCodingMachineDetail" + index + "'>" + indexCell + ManufacMachineCodeCell + ManufacMachineNameCell + ManufacMachineHourCell + CodeMachineNoOfWorkerCell + CodeMachineManHourCell + removeCell + "</tr>";
        $("#tblProductionCodingMachineDetail").append(newRow);

        //$("#MaterialCodeSearch").val('');
        //$("#MaterialNameSearch").val('');
        //$("#MaterialUnit").val('');
        //$("#RequiredQty").val('');

        calTotalNoOfWorkerAndTotalManHourCode();
    }

    function calTotalNoOfWorkerAndTotalManHourCode() {
        calCodeMachineWiseNoOfWorker = 0;
        $(".calCodeMachineNoOfWorker").each(function (index, value) {
            tdvalue = this.value;
            calCodeMachineWiseNoOfWorker += parseFloat(tdvalue);
        });
        document.getElementById("CodeNoOfWorker").value = calCodeMachineWiseNoOfWorker;

        calCodeMachineWiseManHour = 0;
        $(".calCodeMachineManHour").each(function (index, value) {
            tdvalue = this.value;
            calCodeMachineWiseManHour += parseFloat(tdvalue);
        });
        document.getElementById("CodeManHour").value = calCodeMachineWiseManHour;
    }


    function removeCodingShiftRow(id) {
        var controlToBeRemoved = "#tblProductionCodingShiftDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }

    function removeCodeLineRow(id) {
        var controlToBeRemoved = "#tblProductionCodingLineDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }

    function removeCodeMachineRow(id) {
        var controlToBeRemoved = "#tblProductionCodingMachineDetail" + id;
        //alert(controlToBeRemoved);
        $(controlToBeRemoved).remove();
    }

    $(document).ready(function () {
        $(document).ready(function () {
            //$('#htProductionMaterialDetail').on('change', 'input', function () {
            //    //alert('1');
            //    var $tr = $(this).closest('tr'); // get tr which contains the input
            //    var tot = 0; // variable to store sum
            //    $('.calTotalCon', $tr).each(function () { // iterate over inputs
            //        tot += Number($(this).val()) || 0; // parse and add value, if NaN then add 0
            //    });
            //    $('.totalConsume', $tr).val(tot);
            //    $('.totalConsumeShow', $tr).text(tot);

            //});

        $('#ManufacBatchStartTime').on('dp.change', function (e) {
            fnCalManufacBatchTimeDiff();
        })
        $('#ManufacBatchEndTime').on('dp.change', function (e) {
            fnCalManufacBatchTimeDiff();
        })
        $('#ManufacNoOfWorker').on('change', function (e) {
            fnCalManufacBatchTimeDiff();
        })


        function fnCalManufacBatchTimeDiff() {
            var str2 = document.getElementById("ManufacBatchEndTime").value;
            var str1 = document.getElementById("ManufacBatchStartTime").value;            

            var diffMiliSec = Math.abs(new Date(str2) - new Date(str1));
            var diffMin = Math.floor((diffMiliSec/1000)/60);
            var diffHour = Math.floor(diffMin / 60);
            document.getElementById("ManufacMachineHour").value = diffHour;
            var noOfWorker = document.getElementById("ManufacNoOfWorker").value;

            calManufacShiftBreakDownTimeSum = 0;
            $(".calManufacShiftBreakDownTime").each(function(index,value) {
               tdvalue = this.value;
               calManufacShiftBreakDownTimeSum += parseFloat(tdvalue);   
             });

            var manufacManHour = (diffHour * noOfWorker)-calManufacShiftBreakDownTimeSum;
            
            document.getElementById("ManufacManHour").value = manufacManHour;

        }

        $('#PackBatchStartTime').on('dp.change', function (e) {
            fnCalPackBatchTimeDiff();
        });
        $('#PackBatchEndTime').on('dp.change', function (e) {
            fnCalPackBatchTimeDiff();
        });
        $('#PackNoOfWorker').on('change', function (e) {
            fnCalPackBatchTimeDiff();
        });

        function fnCalPackBatchTimeDiff() {
            var str2 = document.getElementById("PackBatchEndTime").value;
            var str1 = document.getElementById("PackBatchStartTime").value;

            var diffMiliSec = Math.abs(new Date(str2) - new Date(str1));
            var diffMin = Math.floor((diffMiliSec/1000)/60);
            var diffHour = Math.floor(diffMin / 60);
            document.getElementById("PackMachineHour").value = diffHour;
            var noOfWorker = document.getElementById("PackNoOfWorker").value;

            calPackShiftBreakDownTimeSum = 0;
            $(".calPackShiftBreakDownTime").each(function (index, value) {
               tdvalue = this.value;
               calPackShiftBreakDownTimeSum += parseFloat(tdvalue);   
             });

            var packManHour = (diffHour * noOfWorker) - calPackShiftBreakDownTimeSum;
            
            document.getElementById("PackManHour").value = packManHour;
        }

            $('#CodeBatchStartTime').on('dp.change', function (e) {
                fnCalCodeBatchTimeDiff();
            });
            $('#CodeBatchEndTime').on('dp.change', function (e) {
                fnCalCodeBatchTimeDiff();
            });
            $('#CodeNoOfWorker').on('change', function (e) {
                fnCalCodeBatchTimeDiff();
            });
            $('#CodeCommonNoOfWorker').on('change', function (e) {
                fnCalCodeBatchTimeDiff();
            })

            function fnCalCodeBatchTimeDiff() {
                var str2 = document.getElementById("CodeBatchEndTime").value;
                var str1 = document.getElementById("CodeBatchStartTime").value;

                var diffMiliSec = Math.abs(new Date(str2) - new Date(str1));
                var diffMin = Math.floor((diffMiliSec / 1000) / 60);
                var diffHour = Math.floor(diffMin / 60);
                document.getElementById("CodeMachineHour").value = diffHour;
                var noOfWorker = document.getElementById("CodeNoOfWorker").value;

                calCodeShiftBreakDownTimeSum = 0;
                $(".calCodeShiftBreakDownTime").each(function (index, value) {
                    tdvalue = this.value;
                    calCodeShiftBreakDownTimeSum += parseFloat(tdvalue);
                });
                //var CodeManHour = (diffHour * noOfWorker) - calCodeShiftBreakDownTimeSum;
                var CodeManHour = (diffHour * noOfWorker);
                document.getElementById("CodeManHour").value = CodeManHour;

                var noOfCommonWorker = document.getElementById("CodeCommonNoOfWorker").value;
                if (noOfCommonWorker > 0) {
                    //var CodeCommonManHour = (diffHour * noOfCommonWorker) - calCodeShiftBreakDownTimeSum;
                    var CodeCommonManHour = (diffHour * noOfCommonWorker);
                    document.getElementById("CodeCommonManHour").value = CodeCommonManHour;
                }
            }

        $('#ProductionQtyBeforeConversion').on('change', function (e) {
            fnCalProducedQuantityByConversionFactor();
        });
        $('#ProductionQtyConversionFactor').on('change', function (e) {
            fnCalProducedQuantityByConversionFactor();
        });

        function fnCalProducedQuantityByConversionFactor() {
            var qtyBeforeConversion = document.getElementById("ProductionQtyBeforeConversion").value;
            var conversionFactor = document.getElementById("ProductionQtyConversionFactor").value;
            if(conversionFactor==0 || conversionFactor=="")
            {
                document.getElementById("ProductionQtyConversionFactor").value =1;
                conversionFactor = 1;
            }
            var qtyAfterConversion = qtyBeforeConversion*conversionFactor;
            document.getElementById("ProductionQty").value = qtyAfterConversion;
        }

            $('#htProductionMaterialDetail').on('change', 'input', function () {
                alert('Update');
                var consumeSum = 0;
                var $tr = $(this).closest('tr'); // get tr which contains the input
                var tot = 0; // variable to store sum
                var stdConsumption = 0; // variable to store sum

                $('.calTotalCon', $tr).each(function () { // iterate over inputs
                    tot += Number($(this).val()) || 0; // parse and add value, if NaN then add 0
                });

                stdConsumption = $('.calStdConsum', $tr).val(); // Current row Standard Consumption.
                alert(stdConsumption);
                $('.calWastage', $tr).val(tot - stdConsumption);

                $('.totalConsume', $tr).val(tot);

                $('.totalConsume').each(function () { // iterate over inputs
                    var val = Number($(this).val());
                    consumeSum += val; // parse and add value, if NaN then add 0
                });

                $("td#sum").text(consumeSum);

            });

            //Select all text of input in td, on get focus.
            $('#htProductionMaterialDetail').on('focus', 'input', function () {
                $("input.calTotalCon").on('focus', function () { $(this).select(); });
            });
        })

    });


    $('#BatchNo').on('focus', function () { $(this).select(); });
    $('#ProductionQty').on('focus', function () { $(this).select(); });
    $('#QCReferenceSampleQty').on('focus', function(){$(this).select();});
</script> *@

