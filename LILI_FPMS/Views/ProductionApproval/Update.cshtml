@model LILI_FPMS.Models.TblProductionProcess


@*<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>*@


<!-- Modal placeholder -->
<div id="modal-placeholder"></div>

<section class="content-header">
    @*<h1>
    Production
    </h1>*@
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Production</li>
        <li class="active">Update Production</li>
    </ol>
</section>
<!-- Main content -->
<section class="content container-fluid">
    <!-- Horizontal Form -->
    <div class="box box-info" style="border:1px solid; border-color:cadetblue; padding:10px">
        @*<div class="box-header with-border">
        <h3 class="box-title">Update Requisition</h3>
        </div>*@
        <!-- /.box-header -->
        <!-- form start -->
        <form class="form-horizontal">
            <div class="card-body">
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Process No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="ProcessNo" class="form-control" placeholder="Process No." readonly="readonly" value="@Model.ProcessNo">
                        <span asp-validation-for="ProcessNo"></span>
                    </div>
                    <label for="inputEmail3" class="col-sm-2 control-label">Process Order No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="LinkedProcessNo" class="form-control" placeholder="" readonly="readonly" value="@Model.LinkedProcessNo">
                        <span asp-validation-for="LinkedProcessNo"></span>
                    </div>
                 
                </div>
                <div class="form-group">
                     @*<label for="inputEmail3" class="col-sm-2 control-label">Requisition No.</label>
                        <div class="col-sm-4">
                            <input type="text" asp-for="RequisitionNo" class="form-control" placeholder="Requisition No." readonly="readonly" value="@Model.RequisitionNo">
                            <span asp-validation-for="RequisitionNo"></span>
                        </div>*@

                    <label for="inputEmail3" class="col-sm-2 control-label">Product Name</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="ProductName" class="form-control" placeholder="Product Name" readonly="readonly" value="@Model.ProductName">
                        <span asp-validation-for="ProductName"></span>
                    </div>

                    <label asp-for="ProcessDate"  class="col-sm-2 control-label">Process Date</label>
                    <div class='col-sm-3 input-group date'  id='ProcessDate' style="padding-left:15px;">
                        <input asp-for="ProcessDate" readonly type='text' class="form-control" />
                        <span asp-validation-for="ProcessDate" class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>

                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Batch No.</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="BatchNo" class="form-control" placeholder="Batch No." value="@Model.BatchNo">
                        <span asp-validation-for="BatchNo"></span>
                    </div>

                    <label for="inputEmail3" class="col-sm-2 control-label">Standard Output / Batch</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="StandardOutput" class="form-control" readonly="readonly" placeholder="Standard Output/Batch" value="@Model.StandardOutput">
                        <span asp-validation-for="StandardOutput"></span>
                    </div>
                </div>
                <div class="form-group">

                    <label for="inputEmail3" class="col-sm-2 control-label">Batch Size</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="BatchSize" class="form-control" readonly="readonly" value="@Model.BatchSize">
                    </div>

                    <label for="inputEmail3" class="col-sm-2 control-label">No Of Batch</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="NumberOfBatch" class="form-control" readonly="readonly">
                    </div>
                </div>





                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Produced Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" asp-for="ProductionQty" class="form-control" onkeypress='return isNumberKey(event)' readonly="readonly" value="@Model.ProductionQty">
                    </div>

                    <label asp-for="QCReferenceSampleQty" class="col-sm-2 control-label">QC Sample Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" Id="QCReferenceSampleQty" asp-for="QCReferenceSampleQty" class="form-control" onkeypress='return isNumberKey(event)' readonly="readonly">
                    </div>
                    <label asp-for="LumpQty" class="col-sm-2 control-label">Lump Quantity</label>
                    <div class="col-sm-1">
                        <input type="text" Id="LumpQty" asp-for="LumpQty" class="form-control" onkeypress='return isNumberKey(event)'>
                    </div>

                </div>

                <div class="form-group">
                    <div class="col-sm-4">

                        <label asp-for="IsProcessCompleted" class="form-check-label col-sm-4 col-sm-offset-3"> Process Completed</label>
                        <input type="hidden" asp-for="IsProcessCompleted" id="IsProcessCompleted" value="false" />
                        <input type="checkbox" class="form-check-input" id="IsChecked" value="false" onclick="OnStateChange();" checked="@Model.IsProcessCompleted" style="transform: scale(1.4);" />


                    </div>
                </div>


                <div class="form-group" style="display:none;">

                    <label asp-for="ManufacShiftCode" class="col-sm-2 control-label">SFG Name</label>
                    <div class="col-sm-4">
                        <select asp-for="SFGCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfSFG,"SFGCode","SFGName"))"></select>
                        <span asp-validation-for="SFGCode"></span>
                    </div>
                    <label for="inputEmail3" class="col-sm-2 control-label">SFG Production Quantity</label>
                    <div class="col-sm-4">
                        <input type="text" asp-for="SFGProductionQty" class="form-control" onkeypress='return isNumberKey(event)' value="@Model.SFGProductionQty">
                    </div>

                </div>

                <div class="form-group">
                </div>




                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">Manufacturing Detail</a>
                            </h4>
                        </div>
                        @*<div id="collapse1" class="panel-collapse collapse">*@
                        <div id="collapse1" class="panel-collapse">

                            <div class="col-md-12" style="padding-top:10px">
                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="ManufacBatchStartTime" readonly type='text' class="form-control" />
                                            <span asp-validation-for="ManufacBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacShiftCode" class="col-sm-4 control-label">Shift Name</label>
                                        <div class="col-sm-8">
                                            <select asp-for="ManufacShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="ManufacShiftCode"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="BreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="BreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="BreakeDownCauseId"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacShiftBreakDownChangeTime"></span>
                                            <div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingShiftGrid()"> Add </a>
                                        </div>
                                    </div>



                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table table-responsive table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingShiftDetail" class="js_tblManufacturingDetail_body">
                                                    @{
                                                        int j = 0;
                                                        foreach (var item in Model.TblManufacturingShift)
                                                        {
                                                            var index = j;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblManufacturingShift.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].ShiftCode, new { @id = "ShiftCode_" + j })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingShift[j].ShiftCode, new { @id = "ShiftCode_" + j })</td>
                                                                    <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + j, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + j, htmlAttributes = new{@class="calManufacShiftBreakDownTime"} })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingShift[j].BreakeDownTime, new { @id = "BreakeDownTime_" + j })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            j++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="ManufacLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="ManufacLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="ManufacLineCode"></span>
                                            <div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" style="float:right" onclick="addNewRowToManufacturingLineGrid()"> Add Line</a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingLineDetail" class="js_tblManufacturingDetailLine_body">
                                                    @{
                                                        int k = 0;
                                                        foreach (var item in Model.TblManufacturingLine)
                                                        {
                                                            var index = k;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblManufacturingLine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingLine[k].LineCode, new { @id = "LineCode_" + k })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingLine[k].LineName, new { @id = "LineName_" + k })</td>
                                                                    <td width="10%"><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            k++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="ManufacBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-6 input-group date' id='ManufacBatchEndTimeDTP' style="padding-left:15px;">
                                            <input asp-for="ManufacBatchEndTime" type='text' class="form-control" />
                                            <span asp-validation-for="ManufacBatchEndTime" readonly class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="ManufacMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="ManufacMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="ManufacMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Machine Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="ManufacMachineCapacity"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="ManufacMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacMachineHour"></span>
                                            <div style="padding-top:10px"></div>

                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacMachineNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingMachineGrid()"> Add Machine</a>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">
                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionManufacturingMachineDetail" class="js_tblManufacturingDetailMachine_body">
                                                    @*@foreach (var item in Model.TblManufacturingMachine)
                                                    {

                                                    }*@

                                                    @{
                                                        int m = 0;
                                                        foreach (var item in Model.TblManufacturingMachine)
                                                        {
                                                            var index = m;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblManufacturingMachine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].MachineCode, new { @id = "MachineCode_" + m })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblManufacturingMachine[m].MachineName, new { @id = "MachineName_" + m })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].MachineHour, new { @id = "MachineHour_" + m })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].ManufacMachineNoOfWorker, new { @id = "ManufacMachineNoOfWorker_" + m })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblManufacturingMachine[m].ManufacMachineManHour, new { @id = "ManufacMachineManHour_" + m })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            m++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>

                                    @*<div class="form-group control-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                    <div class="col-sm-8">
                                    <input type="text" asp-for="ManufacManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                    <span asp-validation-for="ManufacManHour"></span>
                                    </div>
                                    </div>
                                    <div class="form-group control-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                    <div class="col-sm-8">
                                    <input type="text" asp-for="ManufacNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                    <span asp-validation-for="ManufacNoOfWorker"></span>
                                    </div>
                                    </div>*@
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Staff List</label>
                                        <div class="col-sm-4">
                                            <select id="ManufacManPowerStaffId" style="width:100%" for="ManufacManPowerStaffId" class="form-control select2" @* asp-items="@(new SelectList(ViewBag.ListofStaff,"StaffId","Name"))"*@>
                                                @{
                                                    foreach (var staff in ViewBag.ListofStaff)
                                                    {
                                                            <option value="@staff.StaffId"> @staff.StaffId || @staff.Name</option>

                                                    }
                                                }
                                            </select>

                                            @*   <input type="text" asp-for="ManufacManPowerStaffId" class="form-control" readonly="readonly" placeholder="" >

                                            @(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))
                                            *@
                                        </div>


                                        <div class="col-sm-2">
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToManufacturingStaffGrid()"> Add Staff</a>
                                            @*  <button type="button" class="btn btn-mini btn-primary" data-toggle="ajax-modal" onclick="addNewRowToManufacturingStaffGrid()">Add Staff</button>*@
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Staff</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblManufacturingManPowerDetail" class="js_tblManufacturingDetailLine_body">
                                                    @foreach (var item in Model.TblManufacturingManPower)
                                                    {
                                                        int manui = 0; //To make unique Id
                                                        <tr>
                                                            @* <td>@Html.EditorFor(modelItem => item.StaffId)</td>*@

                                                            <td>@Html.DisplayFor(modelItem => item.Name) </td>
                                                            <td><a class="fa fa-trash" onclick="Delete('@item.Id')">X</a></td>
                                                        </tr>
                                                        manui++;
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacManHour"></span>
                                        </div>
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacNoOfWorker"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacCommonManHour"></span>
                                        </div>
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="ManufacCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="ManufacCommonNoOfWorker"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>


                        </div>
                    </div>
                </div>




                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">Packing Detail</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse open">

                            <div class="col-md-12" style="padding-top:10px">

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="PackBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='PackBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="PackBatchStartTime" readonly type='text' class="form-control" />
                                            <span asp-validation-for="PackBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="PackShiftCode" class="col-sm-4 control-label">Shift Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="PackShiftCode"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="PackingBreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackingBreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="PackingBreakeDownCauseId"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackShiftBreakDownChangeTime"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingShiftGrid()"> Add shift </a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table table-responsive table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionpackingShiftDetail" class="js_tblPackingDetail_body">

                                                    @{
                                                        int p = 0;
                                                        foreach (var item in Model.TblPackingDetailShift)
                                                        {
                                                            var index = p;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblPackingDetailShift.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].ShiftCode, new { @id = "ShiftCode_" + p })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailShift[p].ShiftCode, new { @id = "ShiftCode_" + p })</td>
                                                                    <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + p, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + p })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailShift[p].BreakeDownTime, new { @id = "BreakeDownTime_" + p })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            p++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label asp-for="PackLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="PackLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="PackLineCode"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingLineGrid()"> Add Line</a>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionPackingLineDetail" class="js_tblPackingDetailLine_body">


                                                    @{
                                                        int q = 0;
                                                        foreach (var item in Model.TblPackingDetailLine)
                                                        {
                                                            var index = q;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblPackingDetailLine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailLine[q].LineCode, new { @id = "LineCode_" + q })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblPackingDetailLine[q].LineName, new { @id = "LineName_" + q })</td>
                                                                    <td style="width:10%"><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            q++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Packing Quantity</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackingQty" class="form-control" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackingQty"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="PackBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchEndTime' style="padding-left:15px;">
                                            <input asp-for="PackBatchEndTime" readonly type='text' class="form-control" />
                                            <span asp-validation-for="PackBatchEndTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    @*<div class="form-group control-group">
                                    <label asp-for="PackMachineCode" class="col-sm-4 control-label">Machine Code</label>
                                    <div class="col-sm-8">
                                    <select asp-for="PackMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                    <span asp-validation-for="PackMachineCode"></span>
                                    </div>
                                    </div>

                                    <div class="form-group control-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">Machine Capacity</label>
                                    <div class="col-sm-8">
                                    <input type="text" asp-for="PackMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                    <span asp-validation-for="PackMachineCapacity"></span>
                                    </div>
                                    </div>*@

                                    <div class="form-group control-group">
                                        <label asp-for="PackMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="PackMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="PackMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="PackMachineCapacity"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="PackMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineHour"></span>
                                            @*<div style="padding-top:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingMachineGrid()"> Add Machine</a>*@
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Wise No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingMachineGrid()"> Add Machine</a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>

                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col" style="width:30%;">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionPackingMachineDetail" class="js_TblPackingDetailMachine_body">


                                                    @{
                                                        int r = 0;
                                                        foreach (var item in Model.TblPackingDetailMachine)
                                                        {
                                                            var index = r;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblPackingDetailMachine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineCode, new { @id = "MachineCode_" + r })</td>
                                                                    <td style="width:30%;">@Html.DisplayFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineName, new { @id = "MachineName_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].MachineHour, new { @id = "MachineHour_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].PackMachineNoOfWorker, new { @id = "PackMachineNoOfWorker_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblPackingDetailMachine[r].PackMachineManHour, new { @id = "PackMachineManHour_" + r })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            r++;
                                                        }
                                                    }


                                                </tbody>
                                            </table>

                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Staff List</label>
                                        <div class="col-sm-4">
                                            <select id="PackManPowerStaffId" style="width:100%" for="PackManPowerStaffId" class="form-control select2" @* asp-items="@(new SelectList(ViewBag.ListofStaff,"StaffId","Name"))"*@>
                                                @{
                                                    foreach (var staff in ViewBag.ListofStaff)
                                                    {
                                                            <option value="@staff.StaffId"> @staff.StaffId || @staff.Name</option>

                                                    }
                                                }
                                            </select>

                                            @*   <input type="text" asp-for="ManufacManPowerStaffId" class="form-control" readonly="readonly" placeholder="" >

                                            @(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))
                                            *@
                                        </div>


                                        <div class="col-sm-2">
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToPackingStaffGrid()"> Add Staff</a>
                                            @*  <button type="button" class="btn btn-mini btn-primary" data-toggle="ajax-modal" onclick="addNewRowToManufacturingStaffGrid()">Add Staff</button>*@
                                        </div>

                                    </div>
                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Staff</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblPackingManPowerDetail" class="js_tblPackingManPowerDetail_body">
                                                    @foreach (var item in Model.TblPackingManPower)
                                                    {
                                                        int packi = 0; //To make unique Id
                                                        <tr>
                                                            @* <td>@Html.EditorFor(modelItem => item.StaffId)</td>*@
                                                            <td>@Html.DisplayFor(modelItem => item.Name)</td>
                                                            <td><a class="fa fa-trash" onclick="Delete('@item.Id')">X</a></td>
                                                        </tr>
                                                        packi++;
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    @*<div class="form-group control-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                    <div class="col-sm-8">
                                    <input type="text" asp-for="PackManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                    <span asp-validation-for="PackManHour"></span>
                                    </div>
                                    </div>

                                    <div class="form-group control-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                    <div class="col-sm-8">
                                    <input type="text" asp-for="PackNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                    <span asp-validation-for="PackNoOfWorker"></span>
                                    </div>
                                    </div>*@

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackManHour"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackCommonNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="PackCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="PackCommonManHour"></span>
                                        </div>
                                    </div>


                                </div>
                            </div>
                            <div class="form-group"></div>
                        </div>
                    </div>
                </div>

                @*Coding Detail start*@
               @*  <div id="CodingDetail" class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="background:#2f4f4f; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">Coding Detail</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse open">

                            <div class="col-md-12" style="padding-top:10px">

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="CodeBatchStartTime" class="col-sm-4 control-label">Batch Start Time</label>
                                        <div class='col-sm-8 input-group date' id='CodeBatchStartTimeDTP' style="padding-left:15px;">
                                            <input asp-for="CodeBatchStartTime" readonly type='text' class="form-control" />
                                            <span asp-validation-for="CodeBatchStartTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="CodeShiftCode" class="col-sm-4 control-label">Shift Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodeShiftCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfShift,"ShiftCode","ShiftName"))"></select>
                                            <span asp-validation-for="CodeShiftCode"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label asp-for="CodingBreakeDownCauseId" class="col-sm-4 control-label">Break Down/Change-Over Cause</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodingBreakeDownCauseId" class="form-control" asp-items="@(new SelectList(ViewBag.ManufacturingBreakDownCauseList,"BreakeDownCauseId","BreakeDownCause"))"></select>
                                            <span asp-validation-for="CodingBreakeDownCauseId"></span>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Shift Break/Change Time(Hr.)</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="CodeShiftBreakDownChangeTime" class="form-control" placeholder="Shift Break Down/Change Time" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeShiftBreakDownChangeTime"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingShiftGrid()"> Add shift </a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <table class="table table-responsive table-striped table-bordered">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Shift Name</th>
                                                        <th scope="col">Break-Down/<br />Change-Over Cause </th>
                                                        <th scope="col">Break-Down/<br />Change-Over Time (Hr.)</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingShiftDetail" class="js_tblCodingDetail_body">

                                                    @{
                                                        int s = 0;
                                                        foreach (var item in Model.TblCodingDetailShift)
                                                        {
                                                            var index = s;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblCodingDetailShift.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].ShiftCode, new { @id = "ShiftCode_" + s })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailShift[s].ShiftCode, new { @id = "ShiftCode_" + s })</td>
                                                                    <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownCauseId, new { @id = "BreakeDownCauseId_" + s, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownCauseName, new { @id = "BreakeDownCauseName_" + s })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailShift[s].BreakeDownTime, new { @id = "BreakeDownTime_" + s })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            s++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label asp-for="CodeLineCode" class="col-sm-4 control-label">Line Code</label>
                                        <div class="col-sm-8">
                                            <select asp-for="CodeLineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfLine,"LineCode","LineName"))"></select>
                                            <span asp-validation-for="CodeLineCode"></span>
                                            <div style="padding-bottom:7px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingLineGrid()"> Add Line</a>
                                        </div>

                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col">Line Name</th>
                                                        <th scope="col">Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingLineDetail" class="js_tblCodingDetailLine_body">


                                                    @{
                                                        int t = 0;
                                                        foreach (var item in Model.TblCodingDetailLine)
                                                        {
                                                            var index = t;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblCodingDetailLine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailLine[t].LineCode, new { @id = "LineCode_" + t })</td>
                                                                    <td>@Html.DisplayFor(modelItem => modelItem.TblCodingDetailLine[t].LineName, new { @id = "LineName_" + t })</td>
                                                                    <td style="width:10%"><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            t++;
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group control-group">
                                        <label asp-for="CodeBatchEndTime" class="col-sm-4 control-label">Batch End Time</label>
                                        <div class='col-sm-8 input-group date' id='ManufacBatchEndTime' style="padding-left:15px;">
                                            <input asp-for="CodeBatchEndTime"readonlytype='text' class="form-control" />
                                            <span asp-validation-for="CodeBatchEndTime" class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label asp-for="CodeMachineCode" class="col-sm-4 control-label">Machine Name</label>
                                        <div class="col-sm-4">
                                            <select asp-for="CodeMachineCode" class="form-control" asp-items="@(new SelectList(ViewBag.ListOfMachine,"MachineCode","MachineName"))"></select>
                                            <span asp-validation-for="CodeMachineCode"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-2 control-label">Capacity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineCapacity" class="form-control" readonly="readonly" placeholder="Machine Capacity">
                                            <span asp-validation-for="CodeMachineCapacity"></span>
                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Hour</label>
                                        <div class="col-sm-8">
                                            <input type="text" asp-for="CodeMachineHour" class="form-control" placeholder="Machine Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineHour"></span>

                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Machine Wise No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeMachineManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeMachineManHour"></span>
                                            <div style="padding-top:10px"></div>
                                            <a class="btn btn-sm btn-primary" onclick="addNewRowToCodingMachineGrid()"> Add Machine</a>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <div class="col-md-2"></div>

                                        <div class="col-sm-10">

                                            <table class="table table-responsive table-bordered table-striped">
                                                <thead style="background:#2f4f4f; color: white;">
                                                    <tr>
                                                        <th scope="col" style="width:30%;">Machine Name</th>
                                                        <th scope="col">Machine Hour</th>
                                                        <th scope="col">No of Worker</th>
                                                        <th scope="col">Man Hour</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tblProductionCodingMachineDetail" class="js_TblCodingDetailMachine_body">


                                                    @{
                                                        int u = 0;
                                                        foreach (var item in Model.TblCodingDetailMachine)
                                                        {
                                                            var index = r;
                                                                <tr>
                                                                    <td style="display:none"><input name='TblCodingDetailMachine.Index' type="hidden" value=@index /></td>
                                                                    <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineCode, new { @id = "MachineCode_" + r })</td>
                                                                    <td style="width:30%;">@Html.DisplayFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineName, new { @id = "MachineName_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].MachineHour, new { @id = "MachineHour_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].CodeMachineNoOfWorker, new { @id = "CodeMachineNoOfWorker_" + r })</td>
                                                                    <td onkeypress="return isNumberKey(event)">@Html.EditorFor(modelItem => modelItem.TblCodingDetailMachine[r].CodeMachineManHour, new { @id = "CodeMachineManHour_" + r })</td>
                                                                    <td><input type="button" class="btn btn-sm btn-danger" value="X" onClick="$(this).closest('tr').remove();"></td>
                                                                </tr>
                                                            u++;
                                                        }
                                                    }


                                                </tbody>
                                            </table>

                                        </div>
                                    </div>


                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeManHour"></span>
                                        </div>
                                    </div>

                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Common No. of Worker</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeCommonNoOfWorker" class="form-control" placeholder="No. of Worker" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeCommonNoOfWorker"></span>
                                        </div>

                                        <label for="inputEmail3" class="col-sm-4 control-label">Common Man Hour</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodeCommonManHour" class="form-control" placeholder="Man Hour" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodeCommonManHour"></span>
                                        </div>
                                    </div>
                                    <div class="form-group control-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">Coding Quantity</label>
                                        <div class="col-sm-2">
                                            <input type="text" asp-for="CodingQty" class="form-control" placeholder="" onkeypress='return isNumberKey(event)'>
                                            <span asp-validation-for="CodingQty" style="color:red;"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group"></div>
                        </div>
                    </div>
                </div>

 *@



                <div class="form-group">
                    <label asp-for="Comments" class="col-sm-2 control-label"></label>
                    <div class="col-sm-10">
                        <input type="text" asp-for="Comments" class="form-control" placeholder="Comments" value="@Model.Comments">
                    </div>
                </div>


                <div style="border:1px solid #e5dbff; padding:10px;">
                    <div class="card-body">
                        <table id="htProductionMaterialDetail" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th style="width:10%; !important">RMPM Code</th>
                                    <th style="width:30%;">RMPM Name</th>
                                    <th style="width:5%;">Unit</th>

                                    <th style="width:10%;display:none;">Required Quantity</th>
                                    <th style="width:10%;display:none;">Issued Quantity</th>
                                    <th style="display:none; width:10%;">Previous Consumption Quantity</th>
                                    <th style="width:10%;display:none;">Std.Consumption</th>

                                    <th style="width:10%;">Requisition No</th>
                                    <th style="width:10%;">GRN No</th>

                                    <th style="width:10%;">Current Use Quantity</th>
                                    <th style="width:10%;">Reject</th>
                                    <th style="width:10%;">WIP</th>

                                    <th style="width:10%;display:none;">Std. Process Loss</th>
                                    <th style="width:10%;display:none;">Wastage</th>

                                    <th style="display:none;width:10%;">Total Consumption</th>
                                    <th style="display:none; width:10%;">Action</th>
                                </tr>
                            </thead>
                            <tbody id="tblProductionBOMDtl" class="js_tblBOMDtl_body">
                                @{
                                    int i = 0;
                                    foreach (var item in Model.TblProductionProcessDetail)
                                    {
                                        var index = i;
                                            <tr>
                                                <td style="display:none"><input name='TblProductionDetail.Index' type="hidden" value=@index /></td>
                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialCode, new { @id = "MaterialCode_" + i })</td>
                                                <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialCode, new { @id = "MaterialCode_" + i })</td>
                                                <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].MaterialName, new { @id = "MaterialName_" + i, htmlAttributes = new { @style = "width: 300px;" } })</td>
                                                <td>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Unit, new { @id = "Unit_" + i })</td>
                                                <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].ReqQuantity, new { @id = "ReqQuantity_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].ReqQuantity, new { @id = "ReqQuantity_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                <td style="display:none;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].IssuedQty, new { @id = "IssuedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].IssuedQty, new { @id = "IssuedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                <td style="display:none; text-align:right;">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].PreviousUsedQty, new { @id = "PreviousUsedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                <td style="display:none; text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].PreviousUsedQty, new { @id = "PreviousUsedQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>

                                                <td style="display:none">@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].StdConsumptionQty, new { @id = "StdConsumptionQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                <td style="display:none;text-align:right;">@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].StdConsumptionQty, new { @id = "StdConsumptionQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class ="calStdConsum" } })</td>

                                                <td onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].RequisitionNo, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>
                                                <td onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Grnno, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>


                                                <td onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].CurrentUseQty, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>

                                                <td onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].RejectQty, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>
                                                <td onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Wip, new { @id = "CurrentUseQty_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "calTotalCon" } })</td>

                                                <td style="display:none;" onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].ProcessLoss, new { @id = "ProcessLoss_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" } })</td>
                                                <td style="display:none;" onkeypress="return isNumberKey(event)" class='calTotalCon'>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].Wastage, new { @id = "Wastage_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;" , @class="calWastage"} })</td>

                                                <td style="display:none" class='totalConsume' readonly>@Html.EditorFor(modelItem => modelItem.TblProductionProcessDetail[i].TotalConsumption, new { @id = "TotalConsumption_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "totalConsume" } })</td>
                                                <td style="display:none;text-align:right" class='totalConsumeShow' readonly>@Html.DisplayFor(modelItem => modelItem.TblProductionProcessDetail[i].TotalConsumption, new { @id = "TotalConsumption_" + i, htmlAttributes = new { @style = "width: 100px; text-align:right;", @class = "totalConsumeShow" } })</td>

                                                <td style="display:none"><input type="button" value="Remove" onClick="$(this).closest('tr').remove();"></td>
                                            </tr>
                                        i++;
                                    }
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="5" style="text-align:left; font-weight:bold">Total Consumption:</td>
                                    <td id="sum" style="text-align:right; font-weight:bold;" class="numeric">&nbsp;</td>
                                </tr>
                            </tfoot>
                        </table>

                    </div>
                </div>

                <input type="hidden" name="Id" value="@Model.Id" />
            </div>
            <!-- /.card-body -->
            <div class="box-footer">
                <a class="btn btn-mini btn-primary" href='@Url.Content("/ProductionApproval/Index")'>Cancel</a>
                <a id="ProcReject" class="btn btn-primary pull-right">Reject</a>
                <a id="ProcApprove" class="btn btn-primary pull-right" style="margin-right:50px;">Approve</a>
            </div>
            <!-- /.box-footer -->

        </form>
    </div>
    <!-- /.box -->
</section>

<script type="text/javascript">

    $(document).ready(function () {

        $('#ProcApprove').on('click', function () {
            var processNo = $('#ProcessNo').val();
            $.ajax({
                type: "POST",
                url: "/ProductionApproval/ProductionApprovalStatus",
                data: { processNo: processNo, approvalStatus: "Approved" },
                success: function (result) {
                    alert("Production Approved.")
                    window.location.href = "/ProductionApproval/Index"
                }
            });
        });

        $('#ProcReject').on('click', function () {
            var processNo = $('#ProcessNo').val();
            $.ajax({
                type: "POST",
                url: "/ProductionApproval/ProductionApprovalStatus",
                data: { processNo: processNo, approvalStatus: "Rejected" },
                success: function (result) {
                    alert("Production Rejected.")
                    window.location.href = "/ProductionApproval/Index"
                }
            });
        });

    });

</script>

